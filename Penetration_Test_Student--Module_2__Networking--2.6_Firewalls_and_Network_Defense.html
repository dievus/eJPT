<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>2.6 Firewalls and Network Defense</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><div class="main"><div class="tree">
<p><strong>Index</strong></p>
<p><a href="Penetration_Test_Student.html">Penetration Test Student</a></p>

<ol>
<li><a href="Penetration_Test_Student--Module_2__Networking.html">Module 2 | Networking</a></li>
<ol>
<li><a href="Penetration_Test_Student--Module_2__Networking--2.1_Protocols.html">2.1 Protocols</a></li>
<li><a href="Penetration_Test_Student--Module_2__Networking--2.2_Internet_Protocol_(IP).html">2.2 Internet Protocol (IP)</a></li>
<li><a href="Penetration_Test_Student--Module_2__Networking--2.3_Routing.html">2.3 Routing</a></li>
<li><a href="Penetration_Test_Student--Module_2__Networking--2.4_Link_Layer_Devices_and_Protocols.html">2.4 Link Layer Devices and Protocols</a></li>
<li><a href="Penetration_Test_Student--Module_2__Networking--2.5_TCP_and_UDP.html">2.5 TCP and UDP</a></li>
<li><a href="Penetration_Test_Student--Module_2__Networking--2.6_Firewalls_and_Network_Defense.html">2.6 Firewalls and Network Defense</a></li>
<li><a href="Penetration_Test_Student--Module_2__Networking--2.7_DNS.html">2.7 DNS</a></li>
<li><a href="Penetration_Test_Student--Module_2__Networking--2.8_Wireshark.html">2.8 Wireshark</a></li>
</ol>
<li><a href="Penetration_Test_Student--Module_3__Web_Applications.html">Module 3 | Web Applications</a></li>
<ol>
<li><a href="Penetration_Test_Student--Module_3__Web_Applications--3.1_Introduction.html">3.1 Introduction</a></li>
<li><a href="Penetration_Test_Student--Module_3__Web_Applications--3.2_HTTP_Protocol_Basics.html">3.2 HTTP Protocol Basics</a></li>
<li><a href="Penetration_Test_Student--Module_3__Web_Applications--3.3_HTTP_Cookies.html">3.3 HTTP Cookies</a></li>
<li><a href="Penetration_Test_Student--Module_3__Web_Applications--3.4_HTTP_Sessions.html">3.4 HTTP Sessions</a></li>
<li><a href="Penetration_Test_Student--Module_3__Web_Applications--3.5_Same_Origin_Policy.html">3.5 Same Origin Policy</a></li>
<li><a href="Penetration_Test_Student--Module_3__Web_Applications--3.6_Burp_Suite.html">3.6 Burp Suite</a></li>
</ol>
</ol>
<p><a href="Commands.html">Commands</a></p>

<ol>
<li><a href="Commands--ARP.html">ARP</a></li>
<li><a href="Commands--Burpsuite.html">Burpsuite</a></li>
<li><a href="Commands--Netcat.html">Netcat</a></li>
<li><a href="Commands--Netstat.html">Netstat</a></li>
<li><a href="Commands--Routing_Table_Commands.html">Routing Table Commands</a></li>
<li><a href="Commands--Wireshark.html">Wireshark</a></li>
</ol>
<p><a href="Hera_Labs_Notes.html">Hera Labs Notes</a></p>

<ol>
<li><a href="Hera_Labs_Notes--Hidden_Server_Workflow.html">Hidden Server Workflow</a></li>
<li><a href="Hera_Labs_Notes--Data_Exfiltration.html">Data Exfiltration</a></li>
</ol></div>
<div class="page"><h1><b><u>2.6 Firewalls and Network Defense</u></b></h1><br /><strong><h3>Firewalls</h3></strong><br />• Specialized software module running on a computer or dedicated network device<br />• Serve to filter out packets coming in and out of the network; helps Admins and users control access to network resources and services<br />• Can work on different layers of the OSI model, providing different features and protections<br />• Most basic feature of a firewall is packet filtering<br /><br /><strong><h3>Packet Filtering Firewall</h3></strong><br />• An administrator can create rules which will filter packets according to certain characteristics, including:<br />   ◇ Source IP<br />   ◇ Destination IP<br />   ◇ Protocol<br />   ◇ Source Port<br />   ◇ Destination Port<br />• Packet filters operate on home routers as well as high end enterprise routers<br />• Packet filters inspect the header of every packet and decide how to treat it; Common actions include:<br />   ◇ Allow - allows packets to pass<br />   ◇ Drop - drops packet without any diagnostic message to the packet source host<br />   ◇ Deny - does not allow passage, and notifies the source host<br />• Inspecting the header of a packet does not give any information on the actual payload<br />• Firewalls can only filter traffic by using IP address, ports, and protocols.  Any kind of application layer traffic is allowed to pass, even hacker exploits<br />   ◇ Application layer exploits can be XSS, buffer overflow, SQL injection, and many more<br />   ◇ Packet layer filtering is not enough to stop layer 7 attacks<br /><br /><strong><h3>Application Level Firewalls</h3></strong><br />• Work by checking all OSI layers<br />• Provide more comprehensive protection because they inspect the actual content of the packet, not just headers; for example:<br />   ◇ Drop any peer-to-peer application packet<br />   ◇ Prevent users from visiting a site<br />• Able to understand most application layer protocols in use today; organizations use them to protect networks from attacks and filter unwanted traffic<br /><br /><strong><h3>Intruder Detection Systems IDS</h3></strong><br />• Inspects application payload trying to detect any potential attacks<br />• Specialized software used for detecting ongoing intrusions<br />• Checks for attack vectors such as ping sweeps, port scans, SQL injection, overflows, etc<br />• Can identify traffic generated by a virus or worm, and pretty much every other kind of network threat<br />   ◇ Provided the IDS is well configured<br />• Detects risky traffic using signatures; vendors provide signature updates as soon as new attack vectors are determined<br />   ◇ Without correct signatures, the IDS cannot detect and report intrusions<br />   ◇ False positives exist as well, where legitimate traffic is flagges as malicious<br />• Detection is performed by sensors, or components of software that inspect traffic<br />• Sensors passively intercept intrusions and communicate them to the IDS manager, software in charge of maintaining policies that provide a management console to the SA<br />• IDS DO NOT SUBSTITUTE FIREWALLS<br />• Two types - Network and Host based<br /><br /><strong><h3>Intrusion Prevention System IPS</h3></strong><br />• Unlike IDS, IPS is able to drop malicious requests when the threat exceeds the risk classification<br /><br /><strong><h3>Spot an Obstacle</h3></strong><br />• When a three way handshake occurs, there is a SYN, SYN/ACK, ACK action<br />• When a firewall is in place, the following may happen:<br />   ◇ TCP SYN is sent, but there are no TCP SYN/ACK replies<br />   ◇ TCP SYN packets are sent, but a TCP RST/ACK reply is received<br />   ◇ This type of observation does not determine whether the detection obstacle is a firewall, IDS, or IPS; simply helps inform of the environmental constraints<br /><br /><strong><h3>NAT and Masquerading</h3></strong><br />• Firewalls are also used for Network Address Translation (NAT)<br />• NAT and Masquerading are techniques used to provide access to a network from another without revealing the actual IP address<br />• NAT hosts use the NAT device (typically a router) as a default gateway, routing traffic to the internet through it<br />• NAT device rewrites the source IP address of every packet to the IP address of the gateway<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /></div></div>
</body></html>